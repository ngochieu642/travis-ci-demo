sudo: required

services:
  - docker

arch:
  - arm64
  - amd64
  - s390x
  - ppc64le

matrix:
  include:
    - os: linux
      arch: arm64
    - os: linux
      arch: amd64
    - os: linux
      arch: s390x
    - os: linux
      arch: ppc64le

script:
  - docker build --tag ngochieu642/travis-test:cow-say .
  - docker run ngochieu642/travis-test:cow-say

after_script:
  - docker images

deploy:
  provider: script
  script: bash docker_push.sh
  on:
    branch: test/cow-say